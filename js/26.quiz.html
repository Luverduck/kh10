<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">

    <link rel = "stylesheet" text = "text/css" href = "./css/reset.css">
    <link rel = "stylesheet" text = "text/css" href = "./css/commons.css">
    <link rel = "stylesheet" type = "text/css" href = "./css/layout.css">
    <!-- <link rel = "stylesheet" type = "text/css" href = "./css/test.css"> -->

    <style>
        .danger {
            color: red;
        }
    </style>
    
    <!-- 자바 스크립트 코드 -->
    <script type = "text/javascript">

        window.addEventListener("load", function(){
            // 목표 : textarea에서 입력(input)이 발생하면 span에 글자수를 출력

            var textarea = document.querySelector(".q1-input");
            textarea.addEventListener("input", function(){
                // var text = textarea.value;
                // 이 코드는 textarea에서 발생할 이벤트에 대한 부분이므로 this로 textarea를 지정할 수 있다
                var text = this.value; 

                // var span = document.querySelector(".q1-input-length");
                var span = this.nextElementSibling;

                span.textContent = text.length;

                if(text.length > 1000) {
                    span.classList.add("danger");
                }
                else {
                    span.classList.remove("danger");
                }
            })
            
            // (+추가) textarea가 여러 개 있다면
            var textareaList = document.querySelectorAll(".q1-input");
            if(textareaList.length == 0) return;

            for(var i = 0 ; i < textareaList.length ; i ++) {
                textareaList[i].addEventListener("input", function(){
                    var text = this.value; 

                    var span = this.nextElementSibling;

                    span.textContent = text.length;

                    if(text.length > 1000) {
                        span.classList.add("danger");
                    }
                    else {
                        span.classList.remove("danger");
                    }
                });
            } 
        });
        
    </script>
</head>
<body>
    <!-- HTML 화면 -->
    <div class = "container-600">
        <div class = "row center">
            <h1>자기소개서</h1>
        </div>

        <div class = "row mt-40">
            <h3>(Q) 우리 회사에 지원한 동기를 작성하세요</h3>
        </div>

        <div class = "row">
            <textarea class = "input w-100 fix-size q1-input" rows = "10"></textarea>
            <!-- nextElementSiblings -->
            <span class = "q1-input-length">0</span> / 1000
        </div>
<!-- 
        <div class = "row right">
            <span class = "q1-input-length">0</span> / 1000
        </div> -->

        <div class = "row mt-40">
            <h3>(Q) 성격의 장단점</h3>
        </div>

        <div class = "row">
            <textarea class = "input w-100 fix-size q1-input" rows = "10"></textarea>
            <!-- nextElementSiblings -->
            <span class = "q1-input-length">0</span> / 1000
        </div>

        <div class = "row mt-40">
            <h3>(Q) 역경을 이겨낸 경험</h3>
        </div>

        <div class = "row">
            <textarea class = "input w-100 fix-size q1-input" rows = "10"></textarea>
            <!-- nextElementSiblings -->
            <span class = "q1-input-length">0</span> / 1000
        </div>
    </div>
</body>
</html>